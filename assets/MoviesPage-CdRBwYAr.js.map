{"version":3,"file":"MoviesPage-CdRBwYAr.js","sources":["../../src/pages/MoviesPage/MoviesPage.jsx"],"sourcesContent":["import styles from './MoviesPage.module.css';\nimport { useState, useEffect } from 'react';\nimport { useSearchParams } from 'react-router-dom';\nimport { searchMovies } from '../../services/api';\nimport MovieList from '../../components/MovieList/MovieList';\n\nfunction MoviesPage() {\n  const [searchParams, setSearchParams] = useSearchParams();\n  const query = searchParams.get('query') || '';\n  const [movies, setMovies] = useState([]);\n\n  const handleSubmit = event => {\n    event.preventDefault();\n    const form = event.target;\n    const value = form.elements.query.value.trim();\n    if (!value) return;\n    setSearchParams({ query: value });\n    searchMovies(value).then(setMovies);\n  };\n\n  useEffect(() => {\n    if (!query) return;\n\n    async function fetchMovies() {\n      try {\n        const results = await searchMovies(query);\n        setMovies(results);\n      } catch (error) {\n        console.error('Error fetching movies:', error);\n      }\n    }\n\n    fetchMovies();\n  }, [query]);\n\n  return (\n    <div className={styles.page}>\n      <form onSubmit={handleSubmit} className={styles.form}>\n        <input name=\"query\" defaultValue={query} className={styles.input} />\n        <button type=\"submit\" className={styles.btn}>\n          Search\n        </button>\n      </form>\n      <MovieList movies={movies} />\n    </div>\n  );\n}\n\nexport default MoviesPage;\n"],"names":["MoviesPage","searchParams","setSearchParams","useSearchParams","query","movies","setMovies","useState","handleSubmit","event","value","searchMovies","useEffect","fetchMovies","results","error","jsxs","styles","jsx","MovieList"],"mappings":"yNAMA,SAASA,GAAa,CACpB,KAAM,CAACC,EAAcC,CAAe,EAAIC,EAAgB,EAClDC,EAAQH,EAAa,IAAI,OAAO,GAAK,GACrC,CAACI,EAAQC,CAAS,EAAIC,EAAAA,SAAS,CAAA,CAAE,EAEjCC,EAAwBC,GAAA,CAC5BA,EAAM,eAAe,EAErB,MAAMC,EADOD,EAAM,OACA,SAAS,MAAM,MAAM,KAAK,EACxCC,IACWR,EAAA,CAAE,MAAOQ,EAAO,EACnBC,EAAAD,CAAK,EAAE,KAAKJ,CAAS,EACpC,EAEAM,OAAAA,EAAAA,UAAU,IAAM,CACd,GAAI,CAACR,EAAO,OAEZ,eAAeS,GAAc,CACvB,GAAA,CACI,MAAAC,EAAU,MAAMH,EAAaP,CAAK,EACxCE,EAAUQ,CAAO,QACVC,EAAO,CACN,QAAA,MAAM,yBAA0BA,CAAK,CAAA,CAC/C,CAGUF,EAAA,CAAA,EACX,CAACT,CAAK,CAAC,EAGPY,EAAAA,KAAA,MAAA,CAAI,UAAWC,EAAO,KACrB,SAAA,CAAAD,OAAC,OAAK,CAAA,SAAUR,EAAc,UAAWS,EAAO,KAC9C,SAAA,CAAAC,MAAC,SAAM,KAAK,QAAQ,aAAcd,EAAO,UAAWa,EAAO,MAAO,QACjE,SAAO,CAAA,KAAK,SAAS,UAAWA,EAAO,IAAK,SAE7C,QAAA,CAAA,CAAA,EACF,EACAC,MAACC,GAAU,OAAAd,CAAgB,CAAA,CAAA,EAC7B,CAEJ"}